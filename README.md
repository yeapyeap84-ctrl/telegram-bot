# Telegram Bot –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏ –ø–æ—Å—Ç–æ–≤

–≠—Ç–æ—Ç –±–æ—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø—É–±–ª–∏–∫—É–µ—Ç —Å–æ–æ–±—â–µ–Ω–∏—è –≤ 10 Telegram –∫–∞–Ω–∞–ª–æ–≤ –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é (9:00 –∏ 16:00 –ú–°–ö).

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

- ‚úÖ –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –ø—É–±–ª–∏–∫–∞—Ü–∏—è –≤ 10 –∫–∞–Ω–∞–ª–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ
- ‚è∞ –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º–æ–µ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏–µ (–ø–æ —É–º–æ–ª—á–∞–Ω–∏—é 9:00 –∏ 16:00 –ú–°–ö)
- üîÑ –ü–∞—Ä–∞–ª–ª–µ–ª—å–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π –¥–ª—è –±—ã—Å—Ç—Ä–æ–π —Ä–∞–±–æ—Ç—ã
- üìù –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–µ —à–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π
- üìä –ü–æ–¥—Ä–æ–±–Ω–æ–µ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- üõ°Ô∏è –û–±—Ä–∞–±–æ—Ç–∫–∞ –æ—à–∏–±–æ–∫ –∏ –ø–æ–≤—Ç–æ—Ä–Ω—ã–µ –ø–æ–ø—ã—Ç–∫–∏

## üìã –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Python 3.8+
- Telegram Bot Token (–ø–æ–ª—É—á–∏—Ç—å —É @BotFather)
- –ü—Ä–∞–≤–∞ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞ –≤ –∫–∞–Ω–∞–ª–∞—Ö –¥–ª—è –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

## üõ†Ô∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

1. **–ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π –∏–ª–∏ —Å–∫–∞—á–∞–π—Ç–µ —Ñ–∞–π–ª—ã**

2. **–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:**
   ```bash
   pip install -r requirements.txt
   ```

3. **–ù–∞—Å—Ç—Ä–æ–π—Ç–µ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é:**
   
   –û—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ —Ñ–∞–π–ª `config.py`:
   ```python
   # –£–∫–∞–∂–∏—Ç–µ —Ç–æ–∫–µ–Ω –≤–∞—à–µ–≥–æ –±–æ—Ç–∞
   BOT_TOKEN = 'YOUR_BOT_TOKEN_HERE'
   
   # –£–∫–∞–∂–∏—Ç–µ –≤–∞—à–∏ –∫–∞–Ω–∞–ª—ã
   CHANNELS = [
       '@your_channel1',
       '@your_channel2',
       # ... –¥–æ–±–∞–≤—å—Ç–µ –≤—Å–µ 10 –∫–∞–Ω–∞–ª–æ–≤
   ]
   ```

4. **–°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª .env (–æ–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ):**
   ```bash
   cp env_example.txt .env
   ```
   
   –ò –∑–∞–ø–æ–ª–Ω–∏—Ç–µ —Ç–æ–∫–µ–Ω –±–æ—Ç–∞ –≤ .env —Ñ–∞–π–ª–µ.

## ‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∞

### 1. –ü–æ–ª—É—á–µ–Ω–∏–µ —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞

1. –ù–∞–ø–∏—à–∏—Ç–µ @BotFather –≤ Telegram
2. –û—Ç–ø—Ä–∞–≤—å—Ç–µ –∫–æ–º–∞–Ω–¥—É `/newbot`
3. –°–ª–µ–¥—É–π—Ç–µ –∏–Ω—Å—Ç—Ä—É–∫—Ü–∏—è–º –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –±–æ—Ç–∞
4. –°–∫–æ–ø–∏—Ä—É–π—Ç–µ –ø–æ–ª—É—á–µ–Ω–Ω—ã–π —Ç–æ–∫–µ–Ω

### 2. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –∫–∞–Ω–∞–ª–æ–≤

–í —Ñ–∞–π–ª–µ `config.py` –∑–∞–º–µ–Ω–∏—Ç–µ `CHANNELS` –Ω–∞ ID –≤–∞—à–∏—Ö –∫–∞–Ω–∞–ª–æ–≤:

```python
CHANNELS = [
    -1001234567890,  # ID –ø–µ—Ä–≤–æ–≥–æ –∫–∞–Ω–∞–ª–∞
    -1001234567891,  # ID –≤—Ç–æ—Ä–æ–≥–æ –∫–∞–Ω–∞–ª–∞
    -1001234567892,  # ID —Ç—Ä–µ—Ç—å–µ–≥–æ –∫–∞–Ω–∞–ª–∞
    # ... –¥–æ–±–∞–≤—å—Ç–µ –≤—Å–µ 10 –∫–∞–Ω–∞–ª–æ–≤
]
```

**–ö–∞–∫ –ø–æ–ª—É—á–∏—Ç—å ID –∫–∞–Ω–∞–ª–∞:**

1. **–°–ø–æ—Å–æ–± 1 (—á–µ—Ä–µ–∑ @userinfobot):**
   - –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ –ª—é–±–æ–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª
   - –ü–µ—Ä–µ—à–ª–∏—Ç–µ —ç—Ç–æ —Å–æ–æ–±—â–µ–Ω–∏–µ –±–æ—Ç—É @userinfobot
   - –°–∫–æ–ø–∏—Ä—É–π—Ç–µ ID –∫–∞–Ω–∞–ª–∞ (–Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100)

2. **–°–ø–æ—Å–æ–± 2 (—á–µ—Ä–µ–∑ @RawDataBot):**
   - –û—Ç–ø—Ä–∞–≤—å—Ç–µ —Å–æ–æ–±—â–µ–Ω–∏–µ –≤ –∫–∞–Ω–∞–ª
   - –ü–µ—Ä–µ—à–ª–∏—Ç–µ –µ–≥–æ –±–æ—Ç—É @RawDataBot
   - –ù–∞–π–¥–∏—Ç–µ 'chat_id' –≤ –æ—Ç–≤–µ—Ç–µ

3. **–°–ø–æ—Å–æ–± 3 (–∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π):**
   ```bash
   python get_channel_ids.py
   ```

**–í–∞–∂–Ω–æ:** 
- –ë–æ—Ç –¥–æ–ª–∂–µ–Ω –±—ã—Ç—å –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª—ã –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- ID –∫–∞–Ω–∞–ª–∞ –≤—Å–µ–≥–¥–∞ –Ω–∞—á–∏–Ω–∞–µ—Ç—Å—è —Å -100
- –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ ID –±–æ–ª–µ–µ –Ω–∞–¥–µ–∂–Ω–æ, —á–µ–º @username

### 3. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—è

–ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –±–æ—Ç –ø—É–±–ª–∏–∫—É–µ—Ç –≤ 08:00, 12:00, 16:00 –∏ 19:00 –ú–°–ö. –ß—Ç–æ–±—ã –∏–∑–º–µ–Ω–∏—Ç—å –≤—Ä–µ–º—è, –æ—Ç—Ä–µ–¥–∞–∫—Ç–∏—Ä—É–π—Ç–µ `PUBLISH_SCHEDULE`:

```python
PUBLISH_SCHEDULE = [
    '08:00',  # 8:00 —É—Ç—Ä–∞
    '12:00',  # 12:00 –¥–Ω—è
    '16:00',  # 16:00 –¥–Ω—è
    '19:00',  # 19:00 –≤–µ—á–µ—Ä–∞
]
```

### 4. –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–æ–æ–±—â–µ–Ω–∏–π

–í `config.py` –Ω–∞—Å—Ç—Ä–æ–π—Ç–µ —à–∞–±–ª–æ–Ω—ã —Å–æ–æ–±—â–µ–Ω–∏–π:

```python
POST_TEMPLATES = {
    '08:00': {
        'text': 'üåÖ –î–æ–±—Ä–æ–µ —É—Ç—Ä–æ! –ù–∞—á–∏–Ω–∞–µ–º –Ω–æ–≤—ã–π –¥–µ–Ω—å —Å –ø–æ–∑–∏—Ç–∏–≤–æ–º!',
        'parse_mode': 'HTML'
    },
    '12:00': {
        'text': '‚òÄÔ∏è –ü–æ–ª–¥–µ–Ω—å! –í—Ä–µ–º—è –¥–ª—è –æ–±–µ–¥–∞ –∏ –ø–µ—Ä–µ—Ä—ã–≤–∞!',
        'parse_mode': 'HTML'
    },
    '16:00': {
        'text': '‚òï –í—Ä–µ–º—è –¥–ª—è –∫–æ—Ñ–µ-–±—Ä–µ–π–∫–∞! –ö–∞–∫ –¥–µ–ª–∞?',
        'parse_mode': 'HTML'
    },
    '19:00': {
        'text': 'üåÜ –í–µ—á–µ—Ä! –ó–∞–≤–µ—Ä—à–∞–µ–º –¥–µ–Ω—å –Ω–∞ –ø–æ–∑–∏—Ç–∏–≤–Ω–æ–π –Ω–æ—Ç–µ!',
        'parse_mode': 'HTML'
    }
}
```

## üöÄ –ó–∞–ø—É—Å–∫

```bash
python telegram_bot.py
```

–ë–æ—Ç –∑–∞–ø—É—Å—Ç–∏—Ç—Å—è –∏ –±—É–¥–µ—Ç —Ä–∞–±–æ—Ç–∞—Ç—å –≤ —Ñ–æ–Ω–æ–≤–æ–º —Ä–µ–∂–∏–º–µ, –ø—É–±–ª–∏–∫—É—è —Å–æ–æ–±—â–µ–Ω–∏—è –ø–æ —Ä–∞—Å–ø–∏—Å–∞–Ω–∏—é.

## üìä –ú–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥

### –õ–æ–≥–∏

–í—Å–µ –¥–µ–π—Å—Ç–≤–∏—è –±–æ—Ç–∞ –∑–∞–ø–∏—Å—ã–≤–∞—é—Ç—Å—è –≤ —Ñ–∞–π–ª `bot.log`:

```
2024-01-15 09:00:01 - INFO - üöÄ –ù–∞—á–∏–Ω–∞–µ–º –ø—É–±–ª–∏–∫–∞—Ü–∏—é —Å–æ–æ–±—â–µ–Ω–∏—è –≤ 10 –∫–∞–Ω–∞–ª–æ–≤
2024-01-15 09:00:02 - INFO - ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ @channel1
2024-01-15 09:00:03 - INFO - ‚úÖ –°–æ–æ–±—â–µ–Ω–∏–µ —É—Å–ø–µ—à–Ω–æ –æ—Ç–ø—Ä–∞–≤–ª–µ–Ω–æ –≤ @channel2
...
```

### –°—Ç–∞—Ç—É—Å –ø—É–±–ª–∏–∫–∞—Ü–∏–∏

–ë–æ—Ç –≤—ã–≤–æ–¥–∏—Ç –ø–æ–¥—Ä–æ–±–Ω—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é –æ –∫–∞–∂–¥–æ–π –ø—É–±–ª–∏–∫–∞—Ü–∏–∏:
- ‚úÖ –£—Å–ø–µ—à–Ω–∞—è –æ—Ç–ø—Ä–∞–≤–∫–∞
- ‚ùå –û—à–∏–±–∫–∞ –æ—Ç–ø—Ä–∞–≤–∫–∏
- üìä –û–±—â–∞—è —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞

## üîß –†–∞—Å—à–∏—Ä–µ–Ω–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤

–ß—Ç–æ–±—ã –æ—Ç–ø—Ä–∞–≤–ª—è—Ç—å –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏—è –∏–ª–∏ –≤–∏–¥–µ–æ, –∏–∑–º–µ–Ω–∏—Ç–µ –º–µ—Ç–æ–¥ `publish_to_channel` –≤ `telegram_bot.py`:

```python
# –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ —Ñ–æ—Ç–æ
await self.bot.send_photo(
    chat_id=channel,
    photo='path/to/image.jpg',
    caption=message,
    parse_mode=parse_mode
)

# –î–ª—è –æ—Ç–ø—Ä–∞–≤–∫–∏ –≤–∏–¥–µ–æ
await self.bot.send_video(
    chat_id=channel,
    video='path/to/video.mp4',
    caption=message,
    parse_mode=parse_mode
)
```

### –î–æ–±–∞–≤–ª–µ–Ω–∏–µ –∫–Ω–æ–ø–æ–∫

–î–ª—è –¥–æ–±–∞–≤–ª–µ–Ω–∏—è inline-–∫–Ω–æ–ø–æ–∫ –∏—Å–ø–æ–ª—å–∑—É–π—Ç–µ:

```python
from telegram import InlineKeyboardButton, InlineKeyboardMarkup

keyboard = [
    [InlineKeyboardButton("–ö–Ω–æ–ø–∫–∞ 1", url="https://example.com")],
    [InlineKeyboardButton("–ö–Ω–æ–ø–∫–∞ 2", callback_data="button2")]
]
reply_markup = InlineKeyboardMarkup(keyboard)

await self.bot.send_message(
    chat_id=channel,
    text=message,
    parse_mode=parse_mode,
    reply_markup=reply_markup
)
```

## üõ†Ô∏è –£—Å—Ç—Ä–∞–Ω–µ–Ω–∏–µ –Ω–µ–ø–æ–ª–∞–¥–æ–∫

### –û—à–∏–±–∫–∞ "Chat not found"
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ –±–æ—Ç –¥–æ–±–∞–≤–ª–µ–Ω –≤ –∫–∞–Ω–∞–ª—ã –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å –Ω–∞–ø–∏—Å–∞–Ω–∏—è @username –∏–ª–∏ ID –∫–∞–Ω–∞–ª–∞

### –û—à–∏–±–∫–∞ "Forbidden: bot is not a member"
- –î–æ–±–∞–≤—å—Ç–µ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª—ã –∫–∞–∫ –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —É –±–æ—Ç–∞ –µ—Å—Ç—å –ø—Ä–∞–≤–∞ –Ω–∞ –æ—Ç–ø—Ä–∞–≤–∫—É —Å–æ–æ–±—â–µ–Ω–∏–π

### –û—à–∏–±–∫–∞ "Invalid token"
- –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç—å —Ç–æ–∫–µ–Ω–∞ –±–æ—Ç–∞
- –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ç–æ–∫–µ–Ω —Å–∫–æ–ø–∏—Ä–æ–≤–∞–Ω –ø–æ–ª–Ω–æ—Å—Ç—å—é

## üìù –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```
TelegramBOT/
‚îú‚îÄ‚îÄ telegram_bot.py      # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –±–æ—Ç–∞
‚îú‚îÄ‚îÄ config.py           # –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è
‚îú‚îÄ‚îÄ test_bot.py         # –¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –±–æ—Ç–∞
‚îú‚îÄ‚îÄ get_channel_ids.py  # –ü–æ–ª—É—á–µ–Ω–∏–µ ID –∫–∞–Ω–∞–ª–æ–≤
‚îú‚îÄ‚îÄ start.py            # –£–¥–æ–±–Ω—ã–π –∑–∞–ø—É—Å–∫
‚îú‚îÄ‚îÄ start.bat           # –ó–∞–ø—É—Å–∫ –¥–ª—è Windows
‚îú‚îÄ‚îÄ requirements.txt    # –ó–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏
‚îú‚îÄ‚îÄ env_example.txt     # –ü—Ä–∏–º–µ—Ä —Ñ–∞–π–ª–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ bot.log            # –õ–æ–≥–∏ (—Å–æ–∑–¥–∞–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îî‚îÄ‚îÄ README.md          # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
```

## üîÑ –ê–≤—Ç–æ–∑–∞–ø—É—Å–∫ (Linux/macOS)

–î–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ –∑–∞–ø—É—Å–∫–∞ –±–æ—Ç–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ —Å–∏—Å—Ç–µ–º—ã —Å–æ–∑–¥–∞–π—Ç–µ systemd —Å–µ—Ä–≤–∏—Å:

```bash
sudo nano /etc/systemd/system/telegram-bot.service
```

–°–æ–¥–µ—Ä–∂–∏–º–æ–µ —Ñ–∞–π–ª–∞:
```ini
[Unit]
Description=Telegram Bot
After=network.target

[Service]
Type=simple
User=your_username
WorkingDirectory=/path/to/TelegramBOT
ExecStart=/usr/bin/python3 /path/to/TelegramBOT/telegram_bot.py
Restart=always

[Install]
WantedBy=multi-user.target
```

–ó–∞—Ç–µ–º:
```bash
sudo systemctl enable telegram-bot.service
sudo systemctl start telegram-bot.service
```

## üìû –ü–æ–¥–¥–µ—Ä–∂–∫–∞

–ü—Ä–∏ –≤–æ–∑–Ω–∏–∫–Ω–æ–≤–µ–Ω–∏–∏ –ø—Ä–æ–±–ª–µ–º:
1. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ª–æ–≥–∏ –≤ —Ñ–∞–π–ª–µ `bot.log`
2. –£–±–µ–¥–∏—Ç–µ—Å—å –≤ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –Ω–∞—Å—Ç—Ä–æ–µ–∫ –≤ `config.py`
3. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –ø—Ä–∞–≤–∞ –±–æ—Ç–∞ –≤ –∫–∞–Ω–∞–ª–∞—Ö

---

**–£–¥–∞—á–Ω–æ–≥–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è! üöÄ**

